import{s as j,e as p,t as q,b as C,d as h,f as b,h as z,i as _,j as k,p as w,q as f,k as E,l as c,r as I,m as S,n as A,o as V,v as D,w as G}from"../chunks/scheduler.B1oJxWRp.js";import{S as H,i as L}from"../chunks/index.DtR5D7br.js";import{a as d}from"../chunks/axios.B3ERvgox.js";import{g as M}from"../chunks/entry.ChMssdJ8.js";import{c as P}from"../chunks/authenticationCheck.D5ITmbYD.js";import{p as T}from"../chunks/stores.CCV25G2G.js";function U(a){let t,s,n,l,e,u="Logout",m,r,v="Go to Vault",g,y;return{c(){t=p("div"),s=p("h3"),n=q(a[0]),l=C(),e=p("a"),e.textContent=u,m=C(),r=p("a"),r.textContent=v,this.h()},l(i){t=h(i,"DIV",{class:!0});var o=b(t);s=h(o,"H3",{});var x=b(s);n=z(x,a[0]),x.forEach(_),l=k(o),e=h(o,"A",{href:!0,class:!0,"data-svelte-h":!0}),w(e)!=="svelte-1h40d2k"&&(e.textContent=u),m=k(o),r=h(o,"A",{href:!0,"data-svelte-h":!0}),w(r)!=="svelte-gzancw"&&(r.textContent=v),o.forEach(_),this.h()},h(){f(e,"href","javascript:void(0)"),f(e,"class","btn btn-lg btn-primary"),f(r,"href","/vault"),f(t,"class","container mt-5 text-center")},m(i,o){E(i,t,o),c(t,s),c(s,n),c(t,l),c(t,e),c(t,m),c(t,r),g||(y=I(e,"click",function(){G(a[1])&&a[1].apply(this,arguments)}),g=!0)},p(i,[o]){a=i,o&1&&S(n,a[0])},i:A,o:A,d(i){i&&_(t),g=!1,y()}}}function W(a,t,s){let n,l,e;V(a,T,m=>s(3,e=m));let u="You are not logged in";return D(async()=>{s(0,u="Welcome, "+await P(n))}),a.$$.update=()=>{a.$$.dirty&8&&(n=e.url.pathname),a.$$.dirty&4&&s(1,l=async()=>{await d.post("/auth/account/logout"),s(2,d.defaults.headers.common.Authorization="",d),await M("/login")})},[u,l,d,e]}class O extends H{constructor(t){super(),L(this,t,W,U,j,{})}}export{O as component};
