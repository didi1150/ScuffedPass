import{g as ie,i as ue}from"../chunks/entry.DszAjk8y.js";import{a as oe}from"../chunks/axios.Cqd8ba7t.js";import{s as ce,b as f,f as b,C as A,h as v,j as C,r as I,l as g,D as O,d as m,v as e,i as Q,m as l,E as j,w as K,o as ae,z as he,x as fe,F as ve}from"../chunks/scheduler.DLXp1mf0.js";import{S as de,i as pe}from"../chunks/index.CDjF2aYJ.js";import{h as me}from"../chunks/key.Dz1h-UZO.js";const we=!1,_e=async()=>{try{await oe.get("/auth/account/user")&&ie("/")}catch{}},ke=Object.freeze(Object.defineProperty({__proto__:null,load:_e,ssr:we},Symbol.toStringTag,{value:"Module"}));function ne(a){let s,n="Please try again";return{c(){s=f("p"),s.textContent=n,this.h()},l(t){s=v(t,"P",{class:!0,"data-svelte-h":!0}),I(s)!=="svelte-r2dx1q"&&(s.textContent=n),this.h()},h(){e(s,"class","error svelte-onbw6h")},m(t,r){Q(t,s,r)},d(t){t&&m(s)}}}function re(a){let s,n="Check your email for a confirmation link";return{c(){s=f("p"),s.textContent=n,this.h()},l(t){s=v(t,"P",{class:!0,"data-svelte-h":!0}),I(s)!=="svelte-1e9x9fc"&&(s.textContent=n),this.h()},h(){e(s,"class","success svelte-onbw6h")},m(t,r){Q(t,s,r)},d(t){t&&m(s)}}}function be(a){let s,n,t,r,S="Register",x,o,d,y,q,c,D,E,X="Email",N,w,_,M,R,p,U,P,Y="Password",F,k,Z="Register",W,V,$='Already have an account? <a href="login" class="svelte-onbw6h">Login</a>',G,z,J,ee,i=a[2]&&ne(),u=a[3]&&re();return{c(){s=f("div"),n=f("div"),t=f("form"),r=f("h2"),r.textContent=S,x=b(),o=f("div"),d=A("svg"),y=A("path"),q=b(),c=f("input"),D=b(),E=f("label"),E.textContent=X,N=b(),w=f("div"),_=A("svg"),M=A("path"),R=b(),p=f("input"),U=b(),P=f("label"),P.textContent=Y,F=b(),k=f("button"),k.textContent=Z,W=b(),V=f("p"),V.innerHTML=$,G=b(),i&&i.c(),z=b(),u&&u.c(),this.h()},l(L){s=v(L,"DIV",{class:!0});var B=C(s);n=v(B,"DIV",{class:!0});var te=C(n);t=v(te,"FORM",{});var h=C(t);r=v(h,"H2",{class:!0,"data-svelte-h":!0}),I(r)!=="svelte-d4pubn"&&(r.textContent=S),x=g(h),o=v(h,"DIV",{class:!0});var T=C(o);d=O(T,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var se=C(d);y=O(se,"path",{fill:!0,d:!0}),C(y).forEach(m),se.forEach(m),q=g(T),c=v(T,"INPUT",{type:!0,name:!0,id:!0,class:!0}),D=g(T),E=v(T,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),I(E)!=="svelte-1p9d3fm"&&(E.textContent=X),T.forEach(m),N=g(h),w=v(h,"DIV",{class:!0});var H=C(w);_=O(H,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var le=C(_);M=O(le,"path",{fill:!0,d:!0}),C(M).forEach(m),le.forEach(m),R=g(H),p=v(H,"INPUT",{type:!0,name:!0,id:!0,class:!0}),U=g(H),P=v(H,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),I(P)!=="svelte-pepa0a"&&(P.textContent=Y),H.forEach(m),F=g(h),k=v(h,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),I(k)!=="svelte-1s7k2qu"&&(k.textContent=Z),W=g(h),V=v(h,"P",{class:!0,"data-svelte-h":!0}),I(V)!=="svelte-vsa48l"&&(V.innerHTML=$),G=g(h),i&&i.l(h),z=g(h),u&&u.l(h),h.forEach(m),te.forEach(m),B.forEach(m),this.h()},h(){e(r,"class","svelte-onbw6h"),e(y,"fill","white"),e(y,"d","M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4l-8 5l-8-5V6l8 5l8-5z"),e(d,"xmlns","http://www.w3.org/2000/svg"),e(d,"width","1em"),e(d,"height","1em"),e(d,"viewBox","0 0 24 24"),e(d,"class","svelte-onbw6h"),e(c,"type","text"),e(c,"name","email"),e(c,"id","email"),c.required=!0,e(c,"class","svelte-onbw6h"),e(E,"for","email"),e(E,"class","svelte-onbw6h"),e(o,"class","input-box svelte-onbw6h"),e(M,"fill","white"),e(M,"d","M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"),e(_,"xmlns","http://www.w3.org/2000/svg"),e(_,"width","1em"),e(_,"height","1em"),e(_,"viewBox","0 0 24 24"),e(_,"class","svelte-onbw6h"),e(p,"type","password"),e(p,"name","password"),e(p,"id","password"),p.required=!0,e(p,"class","svelte-onbw6h"),e(P,"for","password"),e(P,"class","svelte-onbw6h"),e(w,"class","input-box svelte-onbw6h"),e(k,"type","submit"),e(k,"class","svelte-onbw6h"),e(V,"class","login-link svelte-onbw6h"),e(n,"class","register-box svelte-onbw6h"),e(s,"class","background svelte-onbw6h")},m(L,B){Q(L,s,B),l(s,n),l(n,t),l(t,r),l(t,x),l(t,o),l(o,d),l(d,y),l(o,q),l(o,c),j(c,a[0]),l(o,D),l(o,E),l(t,N),l(t,w),l(w,_),l(_,M),l(w,R),l(w,p),j(p,a[1]),l(w,U),l(w,P),l(t,F),l(t,k),l(t,W),l(t,V),l(t,G),i&&i.m(t,null),l(t,z),u&&u.m(t,null),J||(ee=[K(c,"input",a[5]),K(p,"input",a[6]),K(t,"submit",fe(function(){ve(a[4])&&a[4].apply(this,arguments)}))],J=!0)},p(L,[B]){a=L,B&1&&c.value!==a[0]&&j(c,a[0]),B&2&&p.value!==a[1]&&j(p,a[1]),a[2]?i||(i=ne(),i.c(),i.m(t,z)):i&&(i.d(1),i=null),a[3]?u||(u=re(),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},i:ae,o:ae,d(L){L&&m(s),i&&i.d(),u&&u.d(),J=!1,he(ee)}}}function ge(a,s,n){let t,r=!1,S=!1,x="",o="";function d(){x=this.value,n(0,x)}function y(){o=this.value,n(1,o)}return a.$$.update=()=>{a.$$.dirty&3&&n(4,t=async()=>{n(2,r=!1);const{hashPW:q,salt:c}=await me(x,o);oe.post("auth/account/register",{email:x,password:q,salt:c}).then(()=>{n(3,S=!0)}).catch(D=>{ue().then(()=>n(2,r=!0))})})},[x,o,r,S,t,d,y]}class Ve extends de{constructor(s){super(),pe(this,s,ge,be,ce,{})}}export{Ve as component,ke as universal};
